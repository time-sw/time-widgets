<div style="display:flex; justify-content:center; margin-top:20px;">
  <div id="x-widget" style="font-family:Arial, sans-serif; background:#1c1c1c; color:#fff; padding:15px; border-radius:10px; width:408px; text-align:center;">
    
    <!-- Header: Profile picture + username -->
    <div style="display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:12px;">
      <a href="https://x.com/time_sweeper" target="_blank" style="display:flex; align-items:center; gap:10px; text-decoration:none;">
        <img src="https://unavatar.io/twitter/time_sweeper"
             alt="@time_sweeper"
             style="width:50px; height:50px; border-radius:50%; border:2px solid #1DA1F2;">
        <span style="font-size:18px; font-weight:bold; color:#1DA1F2;">@time_sweeper</span>
      </a>
    </div>

    <!-- Tweets list -->
    <ul id="x-posts" style="list-style:none; padding:0; margin:0; max-height:500px; overflow-y:auto; text-align:left;"></ul>
  </div>
</div>

<script>
async function fetchTweets() {
  try {
    const res = await fetch("/api/twitter");
    const data = await res.json();

    const tweetList = document.getElementById("x-posts");
    tweetList.innerHTML = "";

    data.data.forEach(tweet => {
      const li = document.createElement("li");
      li.style.borderBottom = "1px solid #333";
      li.style.padding = "10px 0";

      const p = document.createElement("p");
      p.textContent = tweet.text;
      p.style.margin = "0";
      p.style.color = "#fff";

      li.appendChild(p);
      tweetList.appendChild(li);
    });

  } catch (err) {
    console.error(err);
    document.getElementById("x-posts").innerHTML = "<li>⚠️ Error loading posts.</li>";
  }
}

fetchTweets();
</script>
